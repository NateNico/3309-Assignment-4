{"ast":null,"code":"import React,{useState,useEffect}from'react';import{UserAuth}from'../context/AuthContext';import Sidebar from'./Sidebar';import Header from'./Header';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const ExpenseReport=()=>{const{user}=UserAuth();const[reportData,setReportData]=useState(null);const[loading,setLoading]=useState(false);// Fetch the expense report data when the user is logged in\nuseEffect(()=>{if(user){setLoading(true);fetch(\"/api/expenses/report/\".concat(user.uid)).then(res=>res.json()).then(data=>{setReportData(data);setLoading(false);}).catch(err=>{console.log(err);setLoading(false);});}},[user]);return/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(Sidebar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-3/4 p-6\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold\",children:\" \"}),loading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}):reportData?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full table-auto border-collapse\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"border px-4 py-2 text-left\",children:\"Expenses\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border px-4 py-2 text-left\",children:\"April\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border px-4 py-2 text-left\",children:\"May\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border px-4 py-2 text-left\",children:\"June\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border px-4 py-2 text-left\",children:\"Total\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:reportData.map((expense,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"border px-4 py-2\",children:expense.name}),/*#__PURE__*/_jsxs(\"td\",{className:\"border px-4 py-2\",children:[\"$\",expense.april]}),/*#__PURE__*/_jsxs(\"td\",{className:\"border px-4 py-2\",children:[\"$\",expense.may]}),/*#__PURE__*/_jsxs(\"td\",{className:\"border px-4 py-2\",children:[\"$\",expense.june]}),/*#__PURE__*/_jsxs(\"td\",{className:\"border px-4 py-2\",children:[\"$\",expense.total]})]},index))})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-right mt-4\",children:[\"Total Expenses: $\",reportData.reduce((sum,expense)=>sum+expense.total,0)]})]}):/*#__PURE__*/_jsx(\"p\",{children:\"No report data available.\"})]})]})]});};export default ExpenseReport;","map":{"version":3,"sources":["N:/3rd Year (1st semester)/SE 3309A/Group Assignments/Assignment 04/3309-Assignment-4/client/src/components/ExpenseReport.jsx"],"names":["React","useState","useEffect","UserAuth","Sidebar","Header","ExpenseReport","user","reportData","setReportData","loading","setLoading","fetch","uid","then","res","json","data","catch","err","console","log","map","expense","index","name","april","may","june","total","reduce","sum"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,QAAT,KAAyB,wBAAzB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,C,wFAEA,KAAMC,CAAAA,aAAa,CAAG,IAAM,CAC1B,KAAM,CAAEC,IAAF,EAAWJ,QAAQ,EAAzB,CACA,KAAM,CAACK,UAAD,CAAaC,aAAb,EAA8BR,QAAQ,CAAC,IAAD,CAA5C,CACA,KAAM,CAACS,OAAD,CAAUC,UAAV,EAAwBV,QAAQ,CAAC,KAAD,CAAtC,CAEA;AACAC,SAAS,CAAC,IAAM,CACd,GAAIK,IAAJ,CAAU,CACRI,UAAU,CAAC,IAAD,CAAV,CACAC,KAAK,gCAAyBL,IAAI,CAACM,GAA9B,EAAL,CACGC,IADH,CACQC,GAAG,EAAIA,GAAG,CAACC,IAAJ,EADf,EAEGF,IAFH,CAEQG,IAAI,EAAI,CACZR,aAAa,CAACQ,IAAD,CAAb,CACAN,UAAU,CAAC,KAAD,CAAV,CACD,CALH,EAMGO,KANH,CAMSC,GAAG,EAAI,CACZC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACAR,UAAU,CAAC,KAAD,CAAV,CACD,CATH,EAUD,CACF,CAdQ,CAcN,CAACJ,IAAD,CAdM,CAAT,CAgBA,mBACE,aAAK,SAAS,CAAC,MAAf,wBAEE,KAAC,OAAD,IAFF,cAKE,aAAK,SAAS,CAAC,WAAf,wBACE,KAAC,MAAD,IADF,cAEE,aAAK,SAAS,CAAC,MAAf,wBACE,WAAI,SAAS,CAAC,oBAAd,eADF,CAIGG,OAAO,cACN,iCADM,CAEJF,UAAU,cACZ,oCACE,eAAO,SAAS,CAAC,uCAAjB,wBACE,oCACE,mCACE,WAAI,SAAS,CAAC,4BAAd,sBADF,cAEE,WAAI,SAAS,CAAC,4BAAd,mBAFF,cAGE,WAAI,SAAS,CAAC,4BAAd,iBAHF,cAIE,WAAI,SAAS,CAAC,4BAAd,kBAJF,cAKE,WAAI,SAAS,CAAC,4BAAd,mBALF,GADF,EADF,cAUE,uBACGA,UAAU,CAACc,GAAX,CAAe,CAACC,OAAD,CAAUC,KAAV,gBACd,mCACE,WAAI,SAAS,CAAC,kBAAd,UAAkCD,OAAO,CAACE,IAA1C,EADF,cAEE,YAAI,SAAS,CAAC,kBAAd,eAAmCF,OAAO,CAACG,KAA3C,GAFF,cAGE,YAAI,SAAS,CAAC,kBAAd,eAAmCH,OAAO,CAACI,GAA3C,GAHF,cAIE,YAAI,SAAS,CAAC,kBAAd,eAAmCJ,OAAO,CAACK,IAA3C,GAJF,cAKE,YAAI,SAAS,CAAC,kBAAd,eAAmCL,OAAO,CAACM,KAA3C,GALF,GAASL,KAAT,CADD,CADH,EAVF,GADF,cAuBE,WAAG,SAAS,CAAC,iBAAb,+BACoBhB,UAAU,CAACsB,MAAX,CAAkB,CAACC,GAAD,CAAMR,OAAN,GAAkBQ,GAAG,CAAGR,OAAO,CAACM,KAAlD,CAAyD,CAAzD,CADpB,GAvBF,GADY,cA6BZ,gDAnCJ,GAFF,GALF,GADF,CAiDD,CAvED,CAyEA,cAAevB,CAAAA,aAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { UserAuth } from '../context/AuthContext';\nimport Sidebar from './Sidebar';\nimport Header from './Header';\n\nconst ExpenseReport = () => {\n  const { user } = UserAuth();\n  const [reportData, setReportData] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  // Fetch the expense report data when the user is logged in\n  useEffect(() => {\n    if (user) {\n      setLoading(true);\n      fetch(`/api/expenses/report/${user.uid}`)\n        .then(res => res.json())\n        .then(data => {\n          setReportData(data);\n          setLoading(false);\n        })\n        .catch(err => {\n          console.log(err);\n          setLoading(false);\n        });\n    }\n  }, [user]);\n\n  return (\n    <div className=\"flex\">\n      {/* Sidebar */}\n      <Sidebar />\n\n      {/* Main Content */}\n      <div className=\"w-3/4 p-6\">\n        <Header />\n        <div className=\"mt-6\">\n          <h3 className=\"text-2xl font-bold\"> </h3>\n\n          {/* Loading or data display */}\n          {loading ? (\n            <p>Loading...</p>\n          ) : reportData ? (\n            <div>\n              <table className=\"min-w-full table-auto border-collapse\">\n                <thead>\n                  <tr>\n                    <th className=\"border px-4 py-2 text-left\">Expenses</th>\n                    <th className=\"border px-4 py-2 text-left\">April</th>\n                    <th className=\"border px-4 py-2 text-left\">May</th>\n                    <th className=\"border px-4 py-2 text-left\">June</th>\n                    <th className=\"border px-4 py-2 text-left\">Total</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {reportData.map((expense, index) => (\n                    <tr key={index}>\n                      <td className=\"border px-4 py-2\">{expense.name}</td>\n                      <td className=\"border px-4 py-2\">${expense.april}</td>\n                      <td className=\"border px-4 py-2\">${expense.may}</td>\n                      <td className=\"border px-4 py-2\">${expense.june}</td>\n                      <td className=\"border px-4 py-2\">${expense.total}</td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n              <p className=\"text-right mt-4\">\n                Total Expenses: ${reportData.reduce((sum, expense) => sum + expense.total, 0)}\n              </p>\n            </div>\n          ) : (\n            <p>No report data available.</p>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ExpenseReport;\n\n\n\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}