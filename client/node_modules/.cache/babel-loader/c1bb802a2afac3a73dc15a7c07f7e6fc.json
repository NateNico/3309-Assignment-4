{"ast":null,"code":"import React,{useState}from'react';import{UserAuth}from'../context/AuthContext';import Sidebar from'./Sidebar';import Header from'./Header';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AddExpense(){const{user}=UserAuth();const[amount,setAmount]=useState('');const[category,setCategory]=useState('');const[date,setDate]=useState('');const[description,setDescription]=useState('');const[loading,setLoading]=useState(false);const handleSubmit=async e=>{e.preventDefault();if(!user){alert('Please sign in first');return;}setLoading(true);const response=await fetch('/api/expenses/add',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({userId:user.uid,amount,category,date,description})});const data=await response.json();setLoading(false);if(data.success){alert('Expense added successfully!');setAmount('');setCategory('');setDate('');setDescription('');}else{alert('Error adding expense: '+data.error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(Sidebar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-3/4 p-6\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold\",children:\" \"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"Amount\",value:amount,onChange:e=>setAmount(e.target.value),required:true,className:\"p-2 border rounded w-full\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Category\",value:category,onChange:e=>setCategory(e.target.value),required:true,className:\"p-2 border rounded w-full\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:date,onChange:e=>setDate(e.target.value),required:true,className:\"p-2 border rounded w-full\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Description\",value:description,onChange:e=>setDescription(e.target.value),className:\"p-2 border rounded w-full\"})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"p-2 bg-blue-500 text-white rounded disabled:bg-gray-400\",children:loading?'Submitting...':'Add Expense'})]})]})]})]});}export default AddExpense;","map":{"version":3,"sources":["N:/3rd Year (1st semester)/SE 3309A/Group Assignments/Assignment 04/3309-Assignment-4/client/src/components/AddExpense.jsx"],"names":["React","useState","UserAuth","Sidebar","Header","AddExpense","user","amount","setAmount","category","setCategory","date","setDate","description","setDescription","loading","setLoading","handleSubmit","e","preventDefault","alert","response","fetch","method","headers","body","JSON","stringify","userId","uid","data","json","success","error","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { UserAuth } from '../context/AuthContext';\nimport Sidebar from './Sidebar';\nimport Header from './Header';\n\nfunction AddExpense() {\n  const { user } = UserAuth();\n  const [amount, setAmount] = useState('');\n  const [category, setCategory] = useState('');\n  const [date, setDate] = useState('');\n  const [description, setDescription] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!user) {\n      alert('Please sign in first');\n      return;\n    }\n\n    setLoading(true);\n    const response = await fetch('/api/expenses/add', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        userId: user.uid,\n        amount,\n        category,\n        date,\n        description,\n      }),\n    });\n    const data = await response.json();\n    setLoading(false);\n\n    if (data.success) {\n      alert('Expense added successfully!');\n      setAmount('');\n      setCategory('');\n      setDate('');\n      setDescription('');\n    } else {\n      alert('Error adding expense: ' + data.error);\n    }\n  };\n\n  return (\n    <div className=\"flex\">\n      {/* Sidebar */}\n      <Sidebar />\n\n      {/* Main Content */}\n      <div className=\"w-3/4 p-6\">\n        <Header />\n        <div className=\"mt-6\">\n          <h3 className=\"text-2xl font-bold\"> </h3>\n          \n          {/* Form for Adding Expense */}\n          <form onSubmit={handleSubmit}>\n            <div className=\"mb-4\">\n              <input\n                type=\"number\"\n                placeholder=\"Amount\"\n                value={amount}\n                onChange={(e) => setAmount(e.target.value)}\n                required\n                className=\"p-2 border rounded w-full\"\n              />\n            </div>\n            <div className=\"mb-4\">\n              <input\n                type=\"text\"\n                placeholder=\"Category\"\n                value={category}\n                onChange={(e) => setCategory(e.target.value)}\n                required\n                className=\"p-2 border rounded w-full\"\n              />\n            </div>\n            <div className=\"mb-4\">\n              <input\n                type=\"date\"\n                value={date}\n                onChange={(e) => setDate(e.target.value)}\n                required\n                className=\"p-2 border rounded w-full\"\n              />\n            </div>\n            <div className=\"mb-4\">\n              <textarea\n                placeholder=\"Description\"\n                value={description}\n                onChange={(e) => setDescription(e.target.value)}\n                className=\"p-2 border rounded w-full\"\n              />\n            </div>\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"p-2 bg-blue-500 text-white rounded disabled:bg-gray-400\"\n            >\n              {loading ? 'Submitting...' : 'Add Expense'}\n            </button>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default AddExpense;\n\n\n"]},"metadata":{},"sourceType":"module"}