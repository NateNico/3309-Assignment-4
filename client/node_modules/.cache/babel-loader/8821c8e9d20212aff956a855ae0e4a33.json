{"ast":null,"code":"import React,{useState,useEffect}from'react';import{UserAuth}from'../context/AuthContext';import Sidebar from'./Sidebar';import Header from'./Header';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const SearchExpenses=()=>{const{user}=UserAuth();const[category,setCategory]=useState('');const[startDate,setStartDate]=useState('');const[endDate,setEndDate]=useState('');const[minAmount,setMinAmount]=useState('');const[maxAmount,setMaxAmount]=useState('');const[results,setResults]=useState([]);const[loading,setLoading]=useState(false);const handleSearch=async e=>{e.preventDefault();if(!user)return;setLoading(true);const res=await fetch('/api/expenses/search',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({userId:user.uid,category,startDate,endDate,minAmount,maxAmount})});const data=await res.json();setLoading(false);setResults(data);};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(Sidebar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-3/4 p-6\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold\",children:\" \"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSearch,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Category\",value:category,onChange:e=>setCategory(e.target.value)}),/*#__PURE__*/_jsx(\"label\",{children:\" Start Date \"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:startDate,onChange:e=>setStartDate(e.target.value)}),/*#__PURE__*/_jsx(\"label\",{children:\" End Date \"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:endDate,onChange:e=>setEndDate(e.target.value)}),/*#__PURE__*/_jsx(\"label\",{children:\" Min Amount \"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:minAmount,onChange:e=>setMinAmount(e.target.value)}),/*#__PURE__*/_jsx(\"label\",{children:\" Max Amount \"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:maxAmount,onChange:e=>setMaxAmount(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,children:loading?'Searching...':'Search Results'})]}),/*#__PURE__*/_jsx(\"h3\",{children:\" \"}),results.length>0?/*#__PURE__*/_jsx(\"ul\",{children:results.map(exp=>/*#__PURE__*/_jsxs(\"li\",{children:[new Date(exp.date).toLocaleDateString(),\" - \",exp.category,\": $\",exp.amount,\" (\",exp.description,\")\"]},exp.id))}):/*#__PURE__*/_jsx(\"p\",{children:\"No results found.\"})]})]})]});};export default SearchExpenses;","map":{"version":3,"sources":["N:/3rd Year (1st semester)/SE 3309A/Group Assignments/Assignment 04/3309-Assignment-4/client/src/components/SearchExpenses.jsx"],"names":["React","useState","useEffect","UserAuth","Sidebar","Header","SearchExpenses","user","category","setCategory","startDate","setStartDate","endDate","setEndDate","minAmount","setMinAmount","maxAmount","setMaxAmount","results","setResults","loading","setLoading","handleSearch","e","preventDefault","res","fetch","method","headers","body","JSON","stringify","userId","uid","data","json","target","value","length","map","exp","Date","date","toLocaleDateString","amount","description","id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { UserAuth } from '../context/AuthContext';\nimport Sidebar from './Sidebar';\nimport Header from './Header';\n\nconst SearchExpenses = () => {\n  const { user } = UserAuth();\n  const [category, setCategory] = useState('');\n  const [startDate, setStartDate] = useState('');\n  const [endDate, setEndDate] = useState('');\n  const [minAmount, setMinAmount] = useState('');\n  const [maxAmount, setMaxAmount] = useState('');\n  const [results, setResults] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  const handleSearch = async (e) => {\n    e.preventDefault();\n    if (!user) return;\n\n    setLoading(true);\n    const res = await fetch('/api/expenses/search', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        userId: user.uid,\n        category,\n        startDate,\n        endDate,\n        minAmount,\n        maxAmount,\n      }),\n    });\n    const data = await res.json();\n    setLoading(false);\n    setResults(data);\n  };\n\n  return (\n    <div className=\"flex\">\n      {/* Sidebar */}\n      <Sidebar />\n\n      {/* Main Content */}\n      <div className=\"w-3/4 p-6\">\n        <Header />\n        <div className=\"mt-6\">\n          <h3 className=\"text-2xl font-bold\"> </h3>\n          <form onSubmit={handleSearch}>\n            <input\n              type=\"text\"\n              placeholder=\"Category\"\n              value={category}\n              onChange={(e) => setCategory(e.target.value)}\n            />\n            <label> Start Date </label>\n            <input\n              type=\"date\"\n              value={startDate}\n              onChange={(e) => setStartDate(e.target.value)}\n            />\n            <label> End Date </label>\n            <input\n              type=\"date\"\n              value={endDate}\n              onChange={(e) => setEndDate(e.target.value)}\n            />\n            <label> Min Amount </label>\n            <input\n              type=\"number\"\n              value={minAmount}\n              onChange={(e) => setMinAmount(e.target.value)}\n            />\n            <label> Max Amount </label>\n            <input\n              type=\"number\"\n              value={maxAmount}\n              onChange={(e) => setMaxAmount(e.target.value)}\n            />\n            <button type=\"submit\" disabled={loading}>\n              {loading ? 'Searching...' : 'Search Results'}\n            </button>\n          </form>\n\n          <h3> </h3>\n          {results.length > 0 ? (\n            <ul>\n              {results.map((exp) => (\n                <li key={exp.id}>\n                  {new Date(exp.date).toLocaleDateString()} - {exp.category}: ${exp.amount} ({exp.description})\n                </li>\n              ))}\n            </ul>\n          ) : (\n            <p>No results found.</p>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SearchExpenses;\n"]},"metadata":{},"sourceType":"module"}