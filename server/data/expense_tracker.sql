CREATE DATABASE IF NOT EXISTS expense_tracker;
USE expense_tracker;

CREATE TABLE User (
  UserID INT AUTO_INCREMENT PRIMARY KEY,
  Username VARCHAR(255) NOT NULL UNIQUE,
  Password VARCHAR(255) NOT NULL
);

CREATE TABLE Category (
  CategoryID INT AUTO_INCREMENT PRIMARY KEY,
  UserID INT NOT NULL,
  Name VARCHAR(255) NOT NULL,
  FOREIGN KEY (UserID) REFERENCES User(UserID)
);

CREATE TABLE Expense (
  ExpenseID INT AUTO_INCREMENT PRIMARY KEY,
  UserID INT NOT NULL,
  CategoryID INT NOT NULL,
  Amount DECIMAL(10,2) NOT NULL,
  Date DATE NOT NULL,
  Description TEXT,
  FOREIGN KEY (UserID) REFERENCES User(UserID),
  FOREIGN KEY (CategoryID) REFERENCES Category(CategoryID)
);
